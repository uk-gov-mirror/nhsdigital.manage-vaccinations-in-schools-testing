{"uid":"79b10c93b217f724","name":"test_vaccination_file_upload_invalid_structure","fullName":"tests.test_import_offline_vaccinations#test_vaccination_file_upload_invalid_structure","historyId":"d2801a337ad665d08678aac237c005e9","time":{"start":1762535341708,"stop":1762535343352,"duration":1644},"description":"\nTest: Upload a vaccination records file with invalid structure and\n   verify error handling.\nSteps:\n1. Navigate to vaccination records import page.\n2. Upload a file with incorrect structure.\nVerification:\n- Output indicates structural errors.\n","descriptionHtml":"<p>Test: Upload a vaccination records file with invalid structure and<br />\nverify error handling.<br />\nSteps:</p>\n<ol>\n<li>Navigate to vaccination records import page.</li>\n<li>Upload a file with incorrect structure.<br />\nVerification:</li>\n</ol>\n<ul>\n<li>Output indicates structural errors.</li>\n</ul>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"output_path","time":{"start":1762535332588,"stop":1762535332589,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1762535332589,"stop":1762535332593,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1762535332589,"stop":1762535332589,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder","time":{"start":1762535332589,"stop":1762535332589,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1762535332593,"stop":1762535332620,"duration":27},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_as_nurse","time":{"start":1762535332620,"stop":1762535334550,"duration":1930},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1762535332620,"stop":1762535333670,"duration":1050},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1762535332620,"stop":1762535333670,"duration":1050},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='bennettmark@example.com', password='bennettmark@example.com', role='nurse') and choose team Team(name='Ward, Jones and Glover est. 2010', workgroup='W592O', careplus_venue_code='W592O', email='claire13@example.net', phone='(07700)900469')","time":{"start":1762535333670,"stop":1762535334550,"duration":880},"status":"passed","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1762535333670,"stop":1762535334550,"duration":880},"status":"passed","steps":[{"name":"Log in as User(username='bennettmark@example.com', password='bennettmark@example.com', role='nurse')","time":{"start":1762535333670,"stop":1762535334524,"duration":854},"status":"passed","steps":[{"name":"Log in as {1}","time":{"start":1762535333670,"stop":1762535334524,"duration":854},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='bennettmark@example.com', password='bennettmark@example.com', role='nurse'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='bennettmark@example.com', password='bennettmark@example.com', role='nurse'), Team(name='Ward, Jones and Glover est. 2010', workgroup='W592O', careplus_venue_code='W592O', email='claire13@example.net', phone='(07700)900469'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"set_feature_flags","time":{"start":1762535332620,"stop":1762535332620,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_page","time":{"start":1762535332620,"stop":1762535332620,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flipper_page","time":{"start":1762535332620,"stop":1762535332620,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dashboard_page","time":{"start":1762535334550,"stop":1762535334550,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"sessions_page","time":{"start":1762535334550,"stop":1762535334551,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"children","time":{"start":1762535334551,"stop":1762535334554,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_data","time":{"start":1762535334554,"stop":1762535334555,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_vaccs","time":{"start":1762535334555,"stop":1762535341707,"duration":7152},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1762535334555,"stop":1762535334767,"duration":212},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1762535334555,"stop":1762535334767,"duration":212},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'HPV' session at School(name='Saint Ambrose College', urn='138134', site=None)","time":{"start":1762535334767,"stop":1762535335347,"duration":580},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1762535334767,"stop":1762535335347,"duration":580},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='Saint Ambrose College', urn='138134', site=None), <Programme.HPV: 'HPV'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Import class lists","time":{"start":1762535335353,"stop":1762535335639,"duration":286},"status":"passed","steps":[{"name":"Click on Import class lists","time":{"start":1762535335353,"stop":1762535335639,"duration":286},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1762535335689,"stop":1762535336107,"duration":418},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1762535335689,"stop":1762535336107,"duration":418},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Set input file to PosixPath('working/ClassFileMapping.RANDOM_CHILD20251107170856.csv')","time":{"start":1762535336117,"stop":1762535336136,"duration":19},"status":"passed","steps":[{"name":"Set input file to {1}","time":{"start":1762535336117,"stop":1762535336136,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(PosixPath('working/ClassFileMapping.RANDOM_CHILD20251107170856.csv'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1762535337136,"stop":1762535337430,"duration":294},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1762535337136,"stop":1762535337430,"duration":294},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"_coverage","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click link with uploaded datetime","time":{"start":1762535337460,"stop":1762535337656,"duration":196},"status":"passed","steps":[{"name":"Click link with uploaded datetime","time":{"start":1762535337460,"stop":1762535337656,"duration":196},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1762535339123,"stop":1762535339279,"duration":156},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1762535339123,"stop":1762535339279,"duration":156},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1762535339279,"stop":1762535339491,"duration":212},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1762535339279,"stop":1762535339491,"duration":212},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'HPV' session at School(name='Saint Ambrose College', urn='138134', site=None)","time":{"start":1762535339491,"stop":1762535340060,"duration":569},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1762535339492,"stop":1762535340060,"duration":568},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='Saint Ambrose College', urn='138134', site=None), <Programme.HPV: 'HPV'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Record offline","time":{"start":1762535340060,"stop":1762535340383,"duration":323},"status":"passed","steps":[{"name":"Click on Record offline","time":{"start":1762535340060,"stop":1762535340383,"duration":323},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1762535340428,"stop":1762535340586,"duration":158},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1762535340428,"stop":1762535340586,"duration":158},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Import Records","time":{"start":1762535340587,"stop":1762535340777,"duration":190},"status":"passed","steps":[{"name":"Click on Import Records","time":{"start":1762535340587,"stop":1762535340777,"duration":190},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Import Records","time":{"start":1762535340777,"stop":1762535341192,"duration":415},"status":"passed","steps":[{"name":"Click on Import Records","time":{"start":1762535340777,"stop":1762535341192,"duration":415},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select Vaccination Records","time":{"start":1762535341192,"stop":1762535341257,"duration":65},"status":"passed","steps":[{"name":"Select Vaccination Records","time":{"start":1762535341192,"stop":1762535341257,"duration":65},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1762535341257,"stop":1762535341707,"duration":450},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1762535341257,"stop":1762535341707,"duration":450},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":32,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"import_records_page","time":{"start":1762535334555,"stop":1762535334555,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\nTest: Upload a vaccination records file with invalid structure and\n   verify error handling.\nSteps:\n1. Navigate to vaccination records import page.\n2. Upload a file with incorrect structure.\nVerification:\n- Output indicates structural errors.\n","status":"passed","steps":[{"name":"Set input file to PosixPath('working/VaccsFileMapping.INVALID_STRUCTURE20251107170901.csv')","time":{"start":1762535341712,"stop":1762535341731,"duration":19},"status":"passed","steps":[{"name":"Set input file to {1}","time":{"start":1762535341712,"stop":1762535341730,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(PosixPath('working/VaccsFileMapping.INVALID_STRUCTURE20251107170901.csv'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1762535342731,"stop":1762535343036,"duration":305},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1762535342731,"stop":1762535343036,"duration":305},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"_coverage","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click link with uploaded datetime","time":{"start":1762535343066,"stop":1762535343297,"duration":231},"status":"passed","steps":[{"name":"Click link with uploaded datetime","time":{"start":1762535343066,"stop":1762535343297,"duration":231},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_vaccs::0","time":{"start":1762535343352,"stop":1762535344202,"duration":850},"status":"passed","steps":[{"name":"Go to dashboard","time":{"start":1762535343352,"stop":1762535343491,"duration":139},"status":"passed","steps":[{"name":"Go to dashboard","time":{"start":1762535343352,"stop":1762535343491,"duration":139},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1762535343491,"stop":1762535343660,"duration":169},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1762535343491,"stop":1762535343660,"duration":169},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1762535343660,"stop":1762535343846,"duration":186},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1762535343660,"stop":1762535343846,"duration":186},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"log_in_as_nurse::0","time":{"start":1762535344204,"stop":1762535344601,"duration":397},"status":"passed","steps":[{"name":"Log out","time":{"start":1762535344204,"stop":1762535344601,"duration":397},"status":"passed","steps":[{"name":"Log out","time":{"start":1762535344204,"stop":1762535344600,"duration":396},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"set_feature_flags::0","time":{"start":1762535344601,"stop":1762535344601,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context::0","time":{"start":1762535344602,"stop":1762535344612,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1762535344613,"stop":1762535344613,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"vaccinations"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_import_offline_vaccinations"},{"name":"host","value":"runnervmf2e7y"},{"name":"thread","value":"3099-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_import_offline_vaccinations"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":["vaccinations"]},"source":"79b10c93b217f724.json","parameterValues":[]}